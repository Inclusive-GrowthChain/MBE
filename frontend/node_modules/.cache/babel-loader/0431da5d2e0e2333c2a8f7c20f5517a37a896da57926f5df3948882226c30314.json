{"ast":null,"code":"var _jsxFileName = \"/home/ravi/npciV4/IGC-NPCI-HACKATHON/frontend/src/comp/Home/Nav.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useStore from '../../store';\nimport { fetchCBDCBalance, getUserDetails } from '../../apis/apis';\nimport { ReactComponent as UserProfile } from '../../assets/svg/users/profile.svg';\nimport { DropDownWrapper } from '../UIComp/DropDown';\nimport AddBalance from './Modals/AddBalance';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst routes = {\n  investor: [{\n    key: \"My token holdings\",\n    to: \"/investor/token-holdings\"\n  }, {\n    key: \"My bond holdings\",\n    to: \"/investor/bond-holdings\"\n  }, {\n    key: \"Trade book\",\n    to: \"/investor/transactions-hitory\"\n  }],\n  custodian: [{\n    key: \"Investors list\",\n    to: \"/custodian/investors-list\"\n  }, {\n    key: \"Tokenized Bonds\",\n    to: \"/custodian/tokenised-bond\"\n  }, {\n    key: \"Order book\",\n    to: \"/custodian/transactions-hitory\"\n  }, {\n    key: \"Reports\",\n    to: \"/custodian/reports\"\n  }],\n  regulator: [{\n    key: \"Investors list\",\n    to: \"/regulator/investors-list\"\n  }, {\n    key: \"Tokenized Bonds\",\n    to: \"/regulator/tokenised-bond\"\n  }, {\n    key: \"Order book\",\n    to: \"/regulator/transactions-hitory\"\n  }, {\n    key: \"Reports\",\n    to: \"/regulator/reports\"\n  }],\n  mbe: [{\n    key: \"Investors list\",\n    to: \"/mbe/investors-list\"\n  }, {\n    key: \"Tokenized Bonds\",\n    to: \"/mbe/tokenised-bond\"\n  }, {\n    key: \"Order book\",\n    to: \"/mbe/transactions-hitory\"\n  }, {\n    key: \"Reports\",\n    to: \"/mbe/reports\"\n  }]\n};\n\n// const Name = {\n//   investor: \"Investor\",\n//   custodian: \"NSDL(Custodian/Depository)\",\n//   regulator: \"NSE\",\n//   mbe: \"MBE\",\n// }\n\nfunction Nav() {\n  _s();\n  const isLoggedIn = useStore(state => state.isLoggedIn);\n  const logOut = useStore(state => state.logOut);\n  const email = useStore(state => state.email);\n  const role = useStore(state => state.role);\n  const [userDetails, setUserDetails] = useState({});\n  const [CBDCBalance, setCBDCBalance] = useState(0);\n  const [open, setOpen] = useState(false);\n  const [list, setList] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const ddList = role === \"investor\" ? [\"Profile\", \"Log Out\"] : [\"Log Out\"];\n    setList(ddList);\n    const onSuccessUserDetails = payload => {\n      setUserDetails(payload);\n    };\n    const onSuccessCBDCBalanceFetch = payload => {\n      setCBDCBalance((payload === null || payload === void 0 ? void 0 : payload.CBDCbalance) || 0);\n    };\n    if (email) {\n      fetchCBDCBalance({\n        \"MbeId\": email\n      }, onSuccessCBDCBalanceFetch);\n      getUserDetails({\n        \"email\": email\n      }, onSuccessUserDetails);\n    }\n  }, [role, email]);\n  const onClk = val => {\n    if (val === \"Log Out\") {\n      logOut();\n      navigate(\"/\");\n    } else {\n      navigate(\"/investor/profile\");\n    }\n  };\n  const updateOpen = () => setOpen(p => !p);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"df gap-4 sm:gap-8 h-16 px-8 border-b border-[rgba(0,0,0,.05)]\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"mr-auto py-4 sm:text-xl lg:text-2xl font-semibold\",\n        to: \"/\",\n        children: \"Micro Bond Exchange\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"text-sm hover:text-emerald-500\",\n        to: \"/mbe-market\",\n        children: \"MBE Market\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [routes[role].map(r => /*#__PURE__*/_jsxDEV(Link, {\n          className: \"text-sm hover:text-emerald-500\",\n          to: r.to,\n          children: r.key\n        }, r.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }, this)), role === \"investor\" && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"p-0 text-sm hover:underline\",\n          onClick: updateOpen,\n          title: \"Add balance\",\n          children: [\"CBDC Balance : \", CBDCBalance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(DropDownWrapper, {\n          list: list,\n          onClk: onClk,\n          rootCls: \"p-0\",\n          needArrow: true,\n          boxCls: \"profile-dd\",\n          children: [/*#__PURE__*/_jsxDEV(UserProfile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs\",\n            children: email === 'custodian@gmail.com' ? \"Custodian\" : email === 'mbe@gmail.com' ? \"MBE\" : email === 'regulator@gmail.com' ? 'Regulator' : userDetails.firstName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: \"text-sm hover:text-emerald-500\",\n          to: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"text-sm hover:text-emerald-500\",\n          to: \"/signup\",\n          children: \"Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddBalance, {\n      isOpen: open,\n      closeModal: updateOpen,\n      setCBDCBalance: setCBDCBalance\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Nav, \"dozK2q1X8IYapU09iqp4EuiXJdo=\", false, function () {\n  return [useStore, useStore, useStore, useStore, useNavigate];\n});\n_c = Nav;\nexport default Nav;\nvar _c;\n$RefreshReg$(_c, \"Nav\");","map":{"version":3,"names":["useEffect","useState","Link","useNavigate","useStore","fetchCBDCBalance","getUserDetails","ReactComponent","UserProfile","DropDownWrapper","AddBalance","routes","investor","key","to","custodian","regulator","mbe","Nav","isLoggedIn","state","logOut","email","role","userDetails","setUserDetails","CBDCBalance","setCBDCBalance","open","setOpen","list","setList","navigate","ddList","onSuccessUserDetails","payload","onSuccessCBDCBalanceFetch","CBDCbalance","onClk","val","updateOpen","p","map","r","firstName"],"sources":["/home/ravi/npciV4/IGC-NPCI-HACKATHON/frontend/src/comp/Home/Nav.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useStore from '../../store';\n\nimport { fetchCBDCBalance, getUserDetails } from '../../apis/apis';\n\nimport { ReactComponent as UserProfile } from '../../assets/svg/users/profile.svg';\nimport { DropDownWrapper } from '../UIComp/DropDown';\nimport AddBalance from './Modals/AddBalance';\n\nconst routes = {\n  investor: [\n    {\n      key: \"My token holdings\",\n      to: \"/investor/token-holdings\",\n    },\n    {\n      key: \"My bond holdings\",\n      to: \"/investor/bond-holdings\",\n    },\n    {\n      key: \"Trade book\",\n      to: \"/investor/transactions-hitory\",\n    },\n  ],\n  custodian: [\n    {\n      key: \"Investors list\",\n      to: \"/custodian/investors-list\",\n    },\n    {\n      key: \"Tokenized Bonds\",\n      to: \"/custodian/tokenised-bond\",\n    },\n    {\n      key: \"Order book\",\n      to: \"/custodian/transactions-hitory\",\n    },\n    {\n      key: \"Reports\",\n      to: \"/custodian/reports\",\n    },\n  ],\n  regulator: [\n    {\n      key: \"Investors list\",\n      to: \"/regulator/investors-list\",\n    },\n    {\n      key: \"Tokenized Bonds\",\n      to: \"/regulator/tokenised-bond\",\n    },\n    {\n      key: \"Order book\",\n      to: \"/regulator/transactions-hitory\",\n    },\n    {\n      key: \"Reports\",\n      to: \"/regulator/reports\",\n    },\n  ],\n  mbe: [\n    {\n      key: \"Investors list\",\n      to: \"/mbe/investors-list\",\n    },\n    {\n      key: \"Tokenized Bonds\",\n      to: \"/mbe/tokenised-bond\",\n    },\n    {\n      key: \"Order book\",\n      to: \"/mbe/transactions-hitory\",\n    },\n    {\n      key: \"Reports\",\n      to: \"/mbe/reports\",\n    },\n  ],\n}\n\n// const Name = {\n//   investor: \"Investor\",\n//   custodian: \"NSDL(Custodian/Depository)\",\n//   regulator: \"NSE\",\n//   mbe: \"MBE\",\n// }\n\nfunction Nav() {\n  const isLoggedIn = useStore(state => state.isLoggedIn)\n  const logOut = useStore(state => state.logOut)\n  const email = useStore(state => state.email)\n  const role = useStore(state => state.role)\n\n  const [userDetails, setUserDetails] = useState({})\n  const [CBDCBalance, setCBDCBalance] = useState(0)\n  const [open, setOpen] = useState(false)\n  const [list, setList] = useState([])\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    const ddList = role === \"investor\" ? [\"Profile\", \"Log Out\"] : [\"Log Out\"]\n    setList(ddList)\n\n    const onSuccessUserDetails = (payload) => {\n      setUserDetails(payload)\n    }\n\n    const onSuccessCBDCBalanceFetch = (payload) => {\n      setCBDCBalance(payload?.CBDCbalance || 0)\n    }\n\n    if (email) {\n      fetchCBDCBalance({ \"MbeId\": email }, onSuccessCBDCBalanceFetch)\n      getUserDetails({ \"email\": email }, onSuccessUserDetails)\n    }\n  }, [role, email])\n\n  const onClk = val => {\n    if (val === \"Log Out\") {\n      logOut()\n      navigate(\"/\")\n    } else {\n      navigate(\"/investor/profile\")\n    }\n  }\n\n  const updateOpen = () => setOpen(p => !p)\n\n  return (\n    <>\n      <nav className=\"df gap-4 sm:gap-8 h-16 px-8 border-b border-[rgba(0,0,0,.05)]\">\n        <Link\n          className='mr-auto py-4 sm:text-xl lg:text-2xl font-semibold'\n          to=\"/\"\n        >\n          Micro Bond Exchange\n        </Link>\n\n        <Link\n          className='text-sm hover:text-emerald-500'\n          to=\"/mbe-market\"\n        >\n          MBE Market\n        </Link>\n\n        {\n          isLoggedIn ? <>\n            {\n              routes[role].map(r => (\n                <Link\n                  className='text-sm hover:text-emerald-500'\n                  key={r.key}\n                  to={r.to}\n                >\n                  {r.key}\n                </Link>\n              ))\n            }\n\n            {\n              role === \"investor\" &&\n              <button\n                className='p-0 text-sm hover:underline'\n                onClick={updateOpen}\n                title=\"Add balance\"\n              >\n                CBDC Balance : {CBDCBalance}\n              </button>\n            }\n\n            <DropDownWrapper\n              list={list}\n              onClk={onClk}\n              rootCls=\"p-0\"\n              needArrow\n              boxCls=\"profile-dd\"\n            >\n              <UserProfile /> <span className='text-xs'>{email === 'custodian@gmail.com' ? \"Custodian\" : email === 'mbe@gmail.com' ? \"MBE\" : email === 'regulator@gmail.com' ? 'Regulator' : userDetails.firstName}</span>\n            </DropDownWrapper>\n          </> : <>\n            <Link\n              className='text-sm hover:text-emerald-500'\n              to=\"/login\"\n            >\n              Login\n            </Link>\n\n            <Link\n              className='text-sm hover:text-emerald-500'\n              to=\"/signup\"\n            >\n              Signup\n            </Link>\n          </>\n        }\n      </nav>\n\n      <AddBalance\n        isOpen={open}\n        closeModal={updateOpen}\n        setCBDCBalance={setCBDCBalance}\n      />\n    </>\n  )\n}\n\nexport default Nav"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}